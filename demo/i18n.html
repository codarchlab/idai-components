<div class="row">

    <div class="col-md-12">

        <h1>Localization with transl8</h1>

        <p>Components' localization system provides services, helpers and directives which help to provide
        localized content.</p>

        <p>
            The selection of the language is primariliy based on the browers selected <code>primary language</code>.
            At the core of components localization system there is  a
            language selection rule which is applied to choose the suitable language for different
            contexts, its effects depending on the features using it.
        </p>

        <h2>Numbers</h2>

        <p>
            The <code>transl8Number</code> filter shows number like <i>1.000.000.000</i> if the selected language
            is german and like <i>1,000,000,000</i> for all other languages.
        </p>

        Here are some examples in action:

        <br>
        {{10000|transl8Number}}<br>
        {{10000.10|transl8Number}}<br>
        {{1000000000|transl8Number}}<br>
        {{100000000000000|transl8Number}}<br>

        <h2>Translations with transl8</h2>

        <p>Translations are done with the help of the <a href="https://github.com/dainst/transl8">transl8</a> tool.</p>

        <p>
            The <code>transl8</code> filter translates messages for keys. For the key 'everything_ok' you get the translation
            <p>
                "{{'everything_fine'|transl8}}"
            </p>
        </p>

        <p>
            If there is a translation for the selected language (including english and german),
            it it is selected. For all other languages the fallback is
            english. If there is no english translation, it searches for a german translation.
            <b>Note</b> that there should always be a german translation for everything. If not, you'll get an error.
        </p>

        <h2>Localizable content</h2>

        <p>
            iDAI.components provides a means to organize content in a way that allows its localized
            delivery to end-users. In idai.components itself it is used to determine the language of
            the link titles of the footer and navbar, though it is intended that other applications
            make use of the content localization system to provide services to deliver localized content.
        </p>
        <p>
            The language selection gets performed
            for the requesting user individually on the basis of its selected browser language. To work properly,
            there is an underlying organization principle which has to be used accordingly.
            The available languages and organization of the items has to be done by the developer beforehand, using
            a defined data structure, so that the system can figure out which content can be delivered in
            which languages.
        </p>

    </div>
    <div class="col-md-6">

        <h3>Content localization: Data structure</h3>

        <p>The links from the footer and navigation bar section are directly generated from the contents
            of info/content.json (by convention). It serves us as an example to demonstrate
            the usage of the data structure.
		<pre>
{
	"children": [
	{
		"id": "navbar",
		"children":[{
			"id": "about",
			"title": {
				"de": "Ãœber Arachne",
				"en": "About Arachne"
			}
		},
	      ...
		</pre>


    </div>


    <div class="col-md-6">

        <p>A few things to note:</p>
        <ol>
            <li>The file containing this data structure must be named content.json.</li>
            <li>There must be exactly one root node.</li>
            <li>The identifiers must be unique.</li>
            <li>Each node can have and array of nodes as children.</li>
            <li>Each node can have the id and title fields, which make are the precondition for localization.</li>
            <li>The structure itself and the program code is of recursive nature,
                so nodes can theoretically be nested infinitely.
            </li>
        </ol>
    </div>
</div>
</div>
